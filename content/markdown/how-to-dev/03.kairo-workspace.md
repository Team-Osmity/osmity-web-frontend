# Kairo-workspace

kairo-js では大量のアドオンを扱います。
つまり、大量のgithub repositoryを使う可能性が考えられます。

でも、それだと何回もgit clone したり、npm run build したりと大変すぎるため、
大量のリポジトリ(フォルダ) で同じコマンドを一度で実行できるようにしたのが、
**Kairo-workspace** です。

この Kairo-workspace を使って、簡単にkairo-jsの開発環境を整備できます。

## Kairo-workspace をclone
Windowsの方で、好きな場所に新しく空のフォルダを作成しましょう。
例えば、私は `C:\Users\(UserName)\.projects\Werewolf\` とか
外付けの記憶装置などがある人は、`E:\.projects\Werewolf\` とか

エクスプローラー (ファイルとかいじるウィンドウ) で空のフォルダを作成したら、
その場所で右クリックして、`ターミナルで開く` を選択します。
(最初からターミナルで操作できる人は、cd と mkdir を使ってやってもいいです)

PS E:\.projects\Minecraft\Werewolf>
のような表示となっていればokです。

そこで、以下のコマンドを実行して、kairo-workspace を clone します。
`git clone git@github.com:kairo-js/kairo-workspace.git`

## VSCode で開く
cloneした状態(そのまま)の Powershell で以下のコマンドを実行します
`code .`
(最後のピリオドを忘れずに)
すると、作成したフォルダを VSCode で開くことができます。
(VSCode を開いてから、フォルダを選択してもいいです。)
※kairo-workspace がrootフォルダにならないようにしてください。

VSCode で開いた方は、ウィンドウ上部の ターミナル (terminal) タブを押して、
新しいターミナルを開いてください。
※タブが無い人は ・・・に隠れてると思います

以降の説明は VSCode で開いた前提で進めます。

## kairo-workspace で初期化
VSCode のターミナルで、自身が作ったフォルダの中に居ることを確認してください。
そこで、以下のコマンドを実行します
`cd .\kairo-workspace`
すると、先ほど clone した kairo-workspace に移動できます。

そして、以下のコマンドを実行します。
`npm install`

これで、kairo-workspace で使うためのパッケージが自動で全てインストールされます。

## .env を作成
kairo-workspace 内に新しく `.env` ファイルを作成してください。
`.env` って言う名前です。最初のピリオドを忘れず、それ以外に何も付与しないでください。
(enviromentの略です)

作成した .env 内に、以下を貼り付けます
```
GIT_REPOS="
git@github.com:kairo-js/kairo.git
git@github.com:kairo-js/kairo-datavault.git
git@github.com:mc-werewolf/game-manager.git
git@github.com:mc-werewolf/vanilla-pack.git
git@github.com:mc-werewolf/additional-roles-1.git
"
```

## 各リポジトリを初期化
.envに貼り付けるところまで終わった人は、ターミナルに戻り、以下のコマンドを実行してください
`npm run init`

これで、5つのリポジトリそれぞれで、`git clone` と、`npm install` が実行されます。
そのため、1分程度時間がかかると思います

## 各リポジトリでビルド
初期化が完了したら、以下のコマンドを実行してそれぞれ build を試みます。
`npm run build`

このコマンドを実行すると、統合版マインクラフトの方へアドオンが自動で生成されます。

## ワールドを開く
ここまで、記事通りに勧められた方は次のページに行きましょう。
[minecraft-world](04.minecraft-world.md)
